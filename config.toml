# IrisTrading Configuration

[symbols]
# List of perpetual symbols to trade
list = ["BTCUSDT", "ETHUSDT", "SOLUSDT", "BNBUSDT", "XRPUSDT"]
timeframe = "5m"

[model]
# Sequence length for temporal context
sequence_length = 256  # Can be increased to 512
hidden_dim = 256
# Number of features per symbol per timestep
features_per_symbol = 20

[training]
# PPO hyperparameters
learning_rate = 3e-4
gamma = 0.99
gae_lambda = 0.95
clip_epsilon = 0.2
entropy_coef = 0.01
value_coef = 0.5
epochs_per_update = 4
batch_size = 64
update_interval = 2048  # Steps between PPO updates

# Training schedule
max_episodes = 1000
warmup_steps = 30
save_interval = 10  # Episodes between checkpoints

[execution]
# Taker fees (0.055% for Bybit)
taker_fee = 0.00055
# Slippage model: base_slippage + size_impact * notional
base_slippage = 0.0001
size_impact = 0.00001  # Per $1000 notional

[position_sizing]
# Dynamic sizing schedule
# Base risk when equity <= initial_balance
base_risk_pct = 0.02

# Equity thresholds for sizing reduction
# Format: [equity_multiple, max_risk_pct, max_notional_usd]
# Example: 2x equity -> 1.5% risk, max $5000 per position
sizing_schedule = [
    [1.0, 0.020, 2000.0],   # 1x: 2.0%, $2k max
    [2.0, 0.015, 5000.0],   # 2x: 1.5%, $5k max
    [5.0, 0.010, 10000.0],  # 5x: 1.0%, $10k max
    [10.0, 0.005, 15000.0], # 10x: 0.5%, $15k max (hard cap)
]

# Leverage limits
max_leverage = 10.0

[backtest]
initial_balance = 20.0
max_candles_per_symbol = 10000000  # Historical data limit
